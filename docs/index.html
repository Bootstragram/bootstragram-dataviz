<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <style>
  html {
    font-family: sans-serif;
    padding: 0;
    margin: 0;
  }

  body {
    padding: 0;
    margin: 0;
  }
  </style>
  <link rel="stylesheet" href="theme.css">
  <link rel="stylesheet" href="bootstragram-dataviz-style.css">
</head>

<body>
  <h1 id="title">Histogram</h1>
  <div id="histogram"></div>

  <script src="d3.min.js"></script>
  <script src="jquery.min.js"></script>
  <script src="jquery.dataTables.min.js"></script>
  <script>
    // Found from https://github.com/umdjs/umd/blob/master/returnExports.js
    // Commit : 6e693154138b111e17b264e4e27f76e6116f1aba

    (function(root, factory) {
      if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define([], factory);
      } else if (typeof module === 'object' && module.exports) {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like environments that support module.exports,
        // like Node.
        module.exports = factory();
      } else {
        // Browser globals (root is window)
        root.Bootstragram = factory();
      }
    }(this, function() {
      "use strict";
      var Bootstragram = {};

      // Just return a value to define the module export.
      // This example returns an object, but the module
      // can return a function as the exported value.
      return Bootstragram;
    }));

    var lang = "fr";
  </script>
  <script type="module">
    import DataViz from "./bootstragram-dataviz.js?c";

    $(document).ready(() => {
      if (window.localStorage['test']) {
        console.log("LocalStorage already set: ", window.localStorage['test']);
        $('#title').text(window.localStorage['test']);
      } else {
        window.localStorage['test'] = "Coucou !";
        console.log("Set LocalStorage");
      }

      const defaultDisplayRatio = typeof displayRatio === 'number' ? displayRatio : 1.61803;
      const histogram = new DataViz.Histogram('fifa_ranking.csv', {
        displayRatio: defaultDisplayRatio,
        padding: {
          left: 120
        },
        parentId: 'histogram',
        xLegend: "Team rating",
        xColumn: "Country",
        yColumn: "Index"
      });
      histogram.draw();
    });
  </script>
</body>

</html>
